---
import ExamplesLayout from '../../../../layouts/ExamplesLayout.astro'
import { getConfig } from '../../../../libs/config'
import { getExampleNameFromPagePath, type ExampleFrontmatter } from '../../../../libs/examples'

export async function getStaticPaths() {
  const examplesPages = await Astro.glob('../../../../assets/examples/**/*.astro')

  return examplesPages.map((examplesPage) => {
    const { default: Content, file, url, ...props } = examplesPage

    return {
      params: { example: getExampleNameFromPagePath(examplesPage.file), version: getConfig().docs_version },
      props: { ...props, Content },
    }
  })
}

type Props = ExampleFrontmatter

const { Content, ...props } = Astro.props
---

<ExamplesLayout {...props}>
  <Content />
</ExamplesLayout>
